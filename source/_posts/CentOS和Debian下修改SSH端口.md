---
title: CentOS和Debian下修改SSH端口
date: 2015-03-11 10:15
tags: ssh
categories: 网站建设
permalink: 1558
---

自从WDCP迁徙到LNMPA后，一些安全设置就得手动了（WDCP这点还是蛮强大的，常见的端口都可以通过它来修改，赞一个），这个今天开始修改SSH端口了，其实这种类似的教程网上很多，自己记录一下无非还是方便日后方便查询一点，言归正传，开始记录了。

1、登录服务器，找到端口配置文件：` /etc/ssh/sshd_config `，就是` sshd_config `这可不是目录哈，就是这个文件，推荐使用Winsc先下载一份再编辑上传，找到这句：` #Port 22 `，如图：


<!--more-->


![请输入图片描述][1]
把前面的#号先去掉，修改成如下形式：
```
Port 22 `
Port XXXX（把XXXX修改成自己想要改成的端口）
```
保存好后上传覆盖，接着使用命令重启SSH：

Centos可用命令：` service sshd restart `
Debian可用命令：` service ssh restart ` 
2、使用刚才添加的新端口登录服务器，如果登录成功的，说明端口添加还是正确的，这时再次编辑` shd_config `文件，把` Port 22 `删除后保存上传覆盖，再次使用命令重启SSH，这样就完成了SSH端口的修改了。

小结：估计有朋友会嫌第一步操作时，为什么不直接删除22端口改成新的端口就好了，这里不得不说一下，为了保险一点（以防止万一端口修改出错，比如端口冲突等带来登陆的麻烦），所以用先添加端口尝试，因为哪怕新端口不能登陆，老的22端口还是可以登陆的，也就是还是可以继续修改的！ 


  [1]: https://cdn.uu126.cn/wp-content/uploads/2015/03/SSH01.jpg